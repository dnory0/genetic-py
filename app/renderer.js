"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const electron_1 = require("electron");
const path_1 = require("path");
const Highcharts = require("highcharts");
const child_process_1 = require("child_process");
const fs_1 = require("fs");
function isDev() {
    return process.mainModule.filename.indexOf('.asar') === -1;
}
let playBtn = document.getElementById('play-btn');
let stopBtn = document.getElementById('stop-btn');
let toStartBtn = document.getElementById('to-start-btn');
let stepFBtn = document.getElementById('step-forward-btn');
let progressChart;
let fittestChart;
let currentChart;
let mostFittest = { fitness: -1 };
let fittestsHistory = [];
const initChart = (containerId, options) => {
    return Highcharts.chart(containerId, {
        title: {
            text: options.title.text,
            style: {
                padding: '80px'
            }
        },
        xAxis: {
            title: {
                text: options.xAxis.title.text,
                align: 'high'
            }
        },
        yAxis: {
            title: {
                text: options.yAxis.title.text,
                align: 'high',
                rotation: 0,
                y: -20,
                x: -5,
                offset: -35
            }
        },
        series: options.series,
        legend: {
            enabled: false
        },
        tooltip: {
            animation: false
        },
        credits: {
            enabled: false
        },
        exporting: {
            enabled: false
        }
    });
};
progressChart = initChart('progress-chart', {
    chart: {
        type: 'line'
    },
    title: {
        text: 'Fittest Fitness per Generation'
    },
    xAxis: {
        title: {
            text: 'Generation'
        }
    },
    yAxis: {
        title: {
            text: 'Fitness value'
        }
    },
    series: [
        {
            name: 'CGA',
            data: []
        }
    ],
    plotOptions: {
        series: {
            animation: false
        }
    }
});
fittestChart = initChart('fittest-chart', {
    chart: {
        type: 'line'
    },
    title: {
        text: 'Best Fittest'
    },
    xAxis: {
        title: {
            text: 'Genes'
        }
    },
    yAxis: {
        title: {
            text: 'Gene value'
        }
    },
    series: [
        {
            data: []
        }
    ]
});
currentChart = initChart('current-chart', {
    chart: {
        type: 'line'
    },
    title: {
        text: 'Current Generation Fittest'
    },
    xAxis: {
        title: {
            text: 'Genes'
        }
    },
    series: [
        {
            data: []
        }
    ],
    yAxis: {
        title: {
            text: 'Gene value'
        }
    }
});
const settingXaxis = (args, ...charts) => {
    const genes = [...Array(args['genesNum']).keys()].map((v) => `${++v}`);
    charts.forEach((chart) => {
        chart.xAxis[0].setCategories(genes);
    });
};
const clearChart = (chart, categories = true) => {
    if (categories)
        chart.xAxis[0].setCategories([]);
    chart.series[0].setData([]);
    chart.redraw();
};
let isRunning = false;
let pyshell;
const addToChart = (args) => {
    if (args['generation'] !== undefined && args['fitness'] !== undefined && args['genes'] !== undefined) {
        progressChart.series[0].addPoint(parseInt(args['fitness']), true, false, false);
        currentChart.series[0].setData(args['genes'], true, false);
        fittestsHistory.push(args['genes']);
        if (mostFittest['fitness'] < args['fitness']) {
            mostFittest['fitness'] = args['fitness'];
            mostFittest['individuals'] = [
                {
                    generation: args['generation'],
                    genes: args['genes']
                }
            ];
            fittestChart.series[0].setData(mostFittest.individuals[0].genes, true, false);
        }
        else if (mostFittest['fitness'] == args['fitness']) {
            mostFittest['individuals'].unshift({
                generation: args['generation'],
                genes: args['genes']
            });
            fittestChart.series[0].setData(mostFittest.individuals[0].genes, true, false);
        }
    }
    else if (args['started'] && args['genesNum'] !== undefined) {
        clearChart(progressChart);
        clearChart(fittestChart);
        clearChart(currentChart);
        fittestsHistory = [];
        mostFittest = { fitness: -1 };
        settingXaxis(args, currentChart, fittestChart);
        setClickable();
    }
};
if (isDev()) {
    pyshell = child_process_1.spawn(`python`, [path_1.join(__dirname, 'python', 'ga.py')]);
}
else {
    fs_1.copyFileSync(path_1.join(__dirname, 'python', 'dist', process.platform == 'win32' ? path_1.join('win', 'ga.exe') : path_1.join('linux', 'ga')), path_1.join(electron_1.remote.app.getPath('temp'), process.platform == 'win32' ? 'ga.exe' : 'ga'));
    pyshell = child_process_1.spawn(`${path_1.join(electron_1.remote.app.getPath('temp'), 'ga.exe')}`);
}
pyshell.stdout.on('data', (passedArgs) => {
    passedArgs.toString().split('\n').forEach((args) => {
        if (args)
            addToChart(JSON.parse(args));
    });
});
pyshell.on('error', (err) => console.error(`error trace: ${err}`));
const play = () => {
    pyshell.stdin.write('"play"\n');
};
const pause = () => {
    pyshell.stdin.write('"pause"\n');
};
const stop = () => {
    pyshell.stdin.write('"stop"\n');
};
const replay = () => {
    pyshell.stdin.write('"replay"\n');
};
const stepForward = () => {
    pyshell.stdin.write('"step_f"\n');
};
const exit = () => {
    pyshell.stdin.write('"exit"\n');
};
const switchBtn = () => {
    if (isRunning) {
        playBtn.querySelector('.play').style.display = 'none';
        playBtn.querySelector('.pause').style.display = 'block';
    }
    else {
        playBtn.querySelector('.play').style.display = 'block';
        playBtn.querySelector('.pause').style.display = 'none';
    }
};
const setClickable = (clickable = true) => {
    Array.from(document.querySelector('.controls').children).forEach((element, index) => {
        if ([0, 4].includes(index))
            return;
        if (clickable)
            element.classList.remove('disabled-btn');
        else
            element.classList.add('disabled-btn');
        element.disabled = !clickable;
    });
};
playBtn.onclick = () => {
    isRunning = !isRunning;
    if (isRunning) {
        play();
    }
    else {
        pause();
    }
    switchBtn();
};
stopBtn.onclick = () => {
    setClickable(false);
    stop();
    isRunning = false;
    switchBtn();
};
toStartBtn.onclick = () => {
    replay();
    isRunning = true;
    switchBtn();
};
stepFBtn.onclick = () => {
    stepForward();
    isRunning = false;
    switchBtn();
};
electron_1.ipcRenderer.on('pyshell', () => {
    exit();
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVuZGVyZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJyZW5kZXJlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHVDQUErQztBQUMvQywrQkFBNEI7QUFDNUIseUNBQXlDO0FBQ3pDLGlEQUFvRDtBQUNwRCwyQkFBa0M7QUFPbEMsU0FBUyxLQUFLO0lBQ2IsT0FBTyxPQUFPLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7QUFDNUQsQ0FBQztBQUtELElBQUksT0FBTyxHQUFzQixRQUFRLENBQUMsY0FBYyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQ3JFLElBQUksT0FBTyxHQUFzQixRQUFRLENBQUMsY0FBYyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBRXJFLElBQUksVUFBVSxHQUFzQixRQUFRLENBQUMsY0FBYyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0FBSTVFLElBQUksUUFBUSxHQUFzQixRQUFRLENBQUMsY0FBYyxDQUFDLGtCQUFrQixDQUFDLENBQUM7QUFLOUUsSUFBSSxhQUErQixDQUFDO0FBRXBDLElBQUksWUFBOEIsQ0FBQztBQUVuQyxJQUFJLFlBQThCLENBQUM7QUFHbkMsSUFBSSxXQUFXLEdBUVgsRUFBRSxPQUFPLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQztBQUVwQixJQUFJLGVBQWUsR0FBRyxFQUFFLENBQUM7QUFFekIsTUFBTSxTQUFTLEdBQUcsQ0FBQyxXQUFtQixFQUFFLE9BQTJCLEVBQUUsRUFBRTtJQUN0RSxPQUFPLFVBQVUsQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFO1FBQ3BDLEtBQUssRUFBRTtZQUNOLElBQUksRUFBRSxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUk7WUFDeEIsS0FBSyxFQUFFO2dCQUNOLE9BQU8sRUFBRSxNQUFNO2FBQ2Y7U0FDRDtRQUNELEtBQUssRUFBRTtZQUNOLEtBQUssRUFBRTtnQkFDTixJQUFJLEVBQTRCLE9B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