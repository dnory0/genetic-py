"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const electron_1 = require("electron");
const python_shell_1 = require("python-shell");
const path = require("path");
const Chart = require("chart.js");
let playBtn = document.getElementById('play-btn');
let stopBtn = document.getElementById('stop-btn');
let backToStartBtn = (document.getElementById('back-to-start-btn'));
let stepForwardBtn = (document.getElementById('step-forward-btn'));
let args = [
    '64',
    '120'
];
let isPyShellRunning = false;
let pyshell;
let progressChart;
let fittestChart;
let genesNum;
let deleteResult = true;
let close = true;
electron_1.webFrame.setZoomLevel(0);
electron_1.webFrame.setZoomFactor(1);
const createChart = (canvas, { options: { title: { text }, animation: { duration }, devicePixelRatio } }) => {
    return new Chart(canvas, {
        type: 'line',
        data: {
            datasets: [
                {
                    label: 'Progress',
                    fill: 'rgba(0,0,0,0)',
                    backgroundColor: '#3572A5',
                    borderColor: '#3572A5',
                    borderWidth: 2,
                    lineTension: 0
                }
            ]
        },
        options: {
            title: {
                display: true,
                position: 'bottom',
                text
            },
            animation: {
                duration: duration ? duration : 0
            },
            devicePixelRatio: devicePixelRatio ? devicePixelRatio : 2,
            elements: {
                point: {
                    borderWidth: 3
                }
            },
            tooltips: {
                enabled: false
            }
        }
    });
};
const terminatePyShell = (callbackfn) => {
    isPyShellRunning = false;
    console.log('closed here');
    pyshell.end(() => {
        if (callbackfn)
            callbackfn();
    });
};
const activateTooltips = (chart) => {
    chart.options.tooltips.enabled = !isPyShellRunning;
};
const clearChart = (chart) => {
    chart.data.labels = [];
    chart.data.datasets[0].data = [];
    chart.update();
};
const startPythonShell = () => {
    close = false;
    clearChart(progressChart);
    clearChart(fittestChart);
    pyshell = new python_shell_1.PythonShell('genetic_algorithm.py', {
        scriptPath: path.join(__dirname, 'python'),
        pythonOptions: ['-u'],
        args: args
    });
    pyshell.on('message', (...args) => {
        if (close) {
            console.log('should be closed');
            pyshell.send('terminate');
        }
        else if (args[0].includes('generation')) {
            if (args[0].includes('found')) {
                progressChart.data.labels.push(args[0].substr(19));
                fittestChart.data.labels.push(args[0].substr(19));
            }
            else {
                progressChart.data.labels.push(args[0].substr(12));
                fittestChart.data.labels.push(args[0].substr(12));
            }
        }
        else if (args[0].includes('fitness')) {
            if (args[0].includes('found')) {
                progressChart.data.datasets[0].data.push(parseInt(args[0].substr(22)));
                fittestChart.data.datasets[0].data.push(parseInt(args[0].substr(22)));
            }
            else {
                progressChart.data.datasets[0].data.push(parseInt(args[0].substr(15)));
                fittestChart.data.datasets[0].data.push(parseInt(args[0].substr(15)));
            }
        }
        else if (args[0].includes('genes')) {
            clearChart(fittestChart);
            genesNum = [...Array(64).keys()].map(x => ++x);
            fittestChart.data.labels = genesNum.map(x => `${x}`);
            fittestChart.data.datasets[0].data = args[0].includes('found')
                ? args[0]
                    .substr(20)
                    .split('')
                    .map(x => parseInt(x))
                : args[0]
                    .substr(13)
                    .split('')
                    .map(x => parseInt(x));
            progressChart.update();
            fittestChart.update();
            if (isPyShellRunning && !args[0].includes('found'))
                pyshell.send('');
        }
        else if (args[0].includes('finished')) {
            console.log('finished');
            clearChart(progressChart);
            clearChart(fittestChart);
            setBtnsClickable(false);
            terminatePyShell();
            switchPlayPauseBtn();
            blinkPlayBtn();
            resetTime();
        }
    });
    pyshell.on('error', err => console.error(`error trace: ${err}`));
    pyshell.on('close', () => console.log('closed: '));
};
const switchPlayPauseBtn = () => {
    if (isPyShellRunning) {
        playBtn.querySelector('.play').style.display = 'none';
        playBtn.querySelector('.pause').style.display = 'block';
    }
    else {
        playBtn.querySelector('.play').style.display = 'block';
        playBtn.querySelector('.pause').style.display = 'none';
    }
};
const setBtnsClickable = (clickable = true) => {
    Array.from(document.querySelector('.controls').children).forEach((element, index) => {
        if (index == 0)
            return;
        if (clickable)
            element.classList.remove('disabled-btn');
        else
            element.classList.add('disabled-btn');
        element.disabled = !clickable;
    });
};
const blinkPlayBtn = () => {
    playBtn.classList.add('disabled-btn');
    playBtn.disabled = true;
    setTimeout(() => {
        playBtn.classList.remove('disabled-btn');
        playBtn.disabled = false;
    }, 400);
};
const resetTime = (v = false) => {
    notifyTimer('finish');
    deleteResult = v;
};
const notifyTimer = (state) => {
    electron_1.ipcRenderer.send('time', state);
};
let progressCtx = document.getElementById('progress-chart');
progressChart = createChart(progressCtx, {
    options: {
        title: {
            text: 'Fittest For every Generation'
        },
        maintainAspectRatio: false,
        responsive: true,
        animation: {
            duration: 100
        }
    }
});
let fittestCtx = document.getElementById('fittest-chart');
fittestChart = createChart(fittestCtx, {
    options: {
        title: {
            text: 'Fittest Individual Genes'
        },
        animation: {
            duration: 200
        }
    }
});
playBtn.onclick = () => {
    isPyShellRunning = !isPyShellRunning;
    if (!pyshell) {
        clearChart(progressChart);
        startPythonShell();
        switchPlayPauseBtn();
        setBtnsClickable();
        notifyTimer('start');
    }
    else {
        if (isPyShellRunning) {
            pyshell.send('');
            notifyTimer('resume');
            switchPlayPauseBtn();
        }
        else {
            notifyTimer('pause');
            switchPlayPauseBtn();
        }
    }
    activateTooltips(progressChart);
};
stopBtn.onclick = () => {
    resetTime(true);
    clearChart(progressChart);
    clearChart(fittestChart);
    setBtnsClickable(false);
    terminatePyShell();
    switchPlayPauseBtn();
};
backToStartBtn.onclick = () => {
    close = true;
    terminatePyShell(() => {
        resetTime(true);
        playBtn.click();
    });
};
stepForwardBtn.onclick = () => {
    if (isPyShellRunning)
        playBtn.click();
    pyshell.send('');
};
electron_1.ipcRenderer.on('time', (_event, time) => {
    document.getElementById('time').innerHTML = time;
});
electron_1.ipcRenderer.on('cpuusage', (_event, cpuusage) => {
    document.getElementById('cpuusage').innerHTML = cpuusage;
});
electron_1.ipcRenderer.on('time-finished', () => {
    if (deleteResult)
        document.getElementById('time').innerHTML = '00:00:00:00';
});
notifyTimer('finish');
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVuZGVyZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJyZW5kZXJlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHVDQUFpRDtBQUNqRCwrQ0FBMkM7QUFDM0MsNkJBQTZCO0FBQzdCLGtDQUFrQztBQUVsQyxJQUFJLE9BQU8sR0FBc0IsUUFBUSxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUNyRSxJQUFJLE9BQU8sR0FBc0IsUUFBUSxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUNyRSxJQUFJLGNBQWMsR0FBc0IsQ0FDdEMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxtQkFBbUIsQ0FBQyxDQUM3QyxDQUFDO0FBRUYsSUFBSSxjQUFjLEdBQXNCLENBQ3RDLFFBQVEsQ0FBQyxjQUFjLENBQUMsa0JBQWtCLENBQUMsQ0FDNUMsQ0FBQztBQUVGLElBQUksSUFBSSxHQUFHO0lBQ1QsSUFBSTtJQUNKLEtBQUs7Q0FDTixDQUFDO0FBRUYsSUFBSSxnQkFBZ0IsR0FBRyxLQUFLLENBQUM7QUFFN0IsSUFBSSxPQUFvQixDQUFDO0FBRXpCLElBQUksYUFBb0IsQ0FBQztBQUV6QixJQUFJLFlBQW1CLENBQUM7QUFLeEIsSUFBSSxRQUFrQixDQUFDO0FBR3ZCLElBQUksWUFBWSxHQUFZLElBQUksQ0FBQztBQUVqQyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUM7QUFHakIsbUJBQVEsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDekIsbUJBQVEsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFLMUIsTUFBTSxXQUFXLEdBQUcsQ0FDbEIsTUFBeUIsRUFDekIsRUFDRSxPQUFPLEVBQUUsRUFDUCxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFDZixTQUFTLEVBQUUsRUFBRSxRQUFRLEVBQUUsRUFDdkIsZ0JBQWdCLEVBQ2pCLEVBQ3dCLEVBQzNCLEVBQUU7SUFDRixPQUFPLElBQUksS0FBSyxDQUFDLE1B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